/*
 * ramekin-server
 *
 * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)
 *
 * The version of the OpenAPI document: 0.1.0
 *
 * Generated by: https://openapi-generator.tech
 */

use crate::models;
use serde::{Deserialize, Serialize};

#[derive(Clone, Default, Debug, PartialEq, Serialize, Deserialize)]
pub struct SyncResponse {
    /// Items that were created (maps client_id to server_id)
    #[serde(rename = "created")]
    pub created: Vec<models::SyncCreatedItem>,
    /// IDs of items that were deleted
    #[serde(rename = "deleted")]
    pub deleted: Vec<uuid::Uuid>,
    /// Server-side changes since last_sync_at
    #[serde(rename = "server_changes")]
    pub server_changes: Vec<models::SyncServerChange>,
    /// New sync timestamp to use for next sync
    #[serde(rename = "sync_timestamp")]
    pub sync_timestamp: String,
    /// Items that were updated (with success status)
    #[serde(rename = "updated")]
    pub updated: Vec<models::SyncUpdatedItem>,
}

impl SyncResponse {
    pub fn new(
        created: Vec<models::SyncCreatedItem>,
        deleted: Vec<uuid::Uuid>,
        server_changes: Vec<models::SyncServerChange>,
        sync_timestamp: String,
        updated: Vec<models::SyncUpdatedItem>,
    ) -> SyncResponse {
        SyncResponse {
            created,
            deleted,
            server_changes,
            sync_timestamp,
            updated,
        }
    }
}
